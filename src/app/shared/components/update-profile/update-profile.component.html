
  <section class=" top-section p-5 mt-3">
    <div class="row justify-content-around align-items-center">
        <div class="col-md-8">
            <div>
                <h1>My <span>Profile</span></h1>
                <p>You can update your info</p>
            </div>
        </div>
        <div class="col-md-4 text-end">
            <div>
                <img src="../../../assets/imgs/menu-avatar.svg" class="w-75" alt="">
            </div>
        </div>
    </div>
</section>
<div class="link d-flex justify-content-start ">
    <a role="button" [routerLink]="['/dashboard/home']"  class="text-decoration-none text-reset">
        <i class="fa-solid fa-angle-left"></i>        
        Return Home
    </a>
</div>
  <section class=" mt-3">
        <div class="row vh-100 justify-content-center ">
            <div class="col-md-6">                    
                <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
                    <div class="d-flex-center w-25 h-100 mb-2 mx-auto" style="    background-color: #f8f9fa;
" >
                        <div
                          class="d-flex-center position-relative border rounded-4 overflow-hidden"
                        >
                          <label
                            for="Image"
                            class="w-100 h-100 position-relative z-1 curser-pointer text-center p-6" style="inset: 0;"
                            ><i
                              class="fa-solid fa-camera fs-1 "
                              [ngClass]="{ 'opacity-0': imgSrc }"
                            ></i
                          ></label>
                          <input
                            type="file"
                            formControlName="profileImage"
                            id="Image"
                            (change)="onSelect($event)"
                            [readonly]="onView"
                            hidden
                          />
                          <img
                            *ngIf="imgSrc"
                            class="w-100 h-100 pointer-event-none position-absolute z-0"
                            [src]="imgSrc"
                          />
                        </div>
                    </div>
                    <div class="row justify-content-center g-2">                        
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="input-group ">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fa-regular fa-user"></i>
                                </span>
                                <input
                                    formControlName="userName"
                                    [readonly]="onView"
                                    matInput
                                    placeholder="Enter Your User Name"
                                    class="form-control" 
                                    [readonly]="onView"
                                />
                            </div>
                            <div  *ngIf="profileForm.get('userName')?.errors != null && profileForm.get('userName')?.touched">
                                <p class="text-danger"  *ngIf="profileForm.get('userName')?.errors?.['required']"> *User name is Required</p>
                                <p class="text-danger"  *ngIf="profileForm.get('userName')?.errors?.['minLength']"> *User name is Min Lengh 5 car</p>
                                <p class="text-danger" *ngIf="profileForm.get('userName')?.errors?.['maxLength']"> *User name is Max Lengh 10 car</p>
                                <p class="text-danger" *ngIf="profileForm.get('userName')?.errors?.['pattern']"> *Please, Enter a valid user name which contains 3 to 10 letters and 2 numbers</p>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="input-group ">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fa-regular fa-envelope"></i>
                                </span>
                                <input
                                    formControlName="email"
                                    [readonly]="onView"
                                    matInput
                                    placeholder="Enter Your Email"
                                    class="form-control" 
                                    [readonly]="onView"
                                />
                            </div>
                            <div  *ngIf="profileForm.get('email')?.errors != null && profileForm.get('email')?.touched">
                                <p class="text-danger" *ngIf="profileForm.get('email')?.errors?.['required']" >*Email is Required</p>
                                <p class="text-danger" *ngIf="profileForm.get('email')?.errors?.['email'] && profileForm.get('email')?.errors?.['pattern']" >*Please Enter a Valid Email!</p>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="input-group ">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fa-regular fa-flag"></i>
                                </span>
                                <input
                                    formControlName="country"
                                    [readonly]="onView"
                                    matInput
                                    placeholder="Enter Your Country"
                                    class="form-control" 
                                    [readonly]="onView"
                                />
                            </div>
                            <div  *ngIf="profileForm.get('country')?.errors != null && profileForm.get('country')?.touched">
                                <p class="text-danger" *ngIf="profileForm.get('country')?.errors?.['required']"> *Country name is Required</p>
                                <p class="text-danger" *ngIf="profileForm.get('country')?.errors?.['minLength']"> *Country name is Min Lengh 3 car</p>
                                <p class="text-danger" *ngIf="profileForm.get('country')?.errors?.['maxLength']"> *Country name is Max Lengh 10 car</p>
                                <p class="text-danger" *ngIf="profileForm.get('country')?.errors?.['pattern']"> *Please, Enter a Country name and start with uppercase.</p>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="input-group ">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fa-solid fa-mobile-screen"></i>
                                </span>
                                <input
                                    formControlName="phoneNumber"
                                    [readonly]="onView"
                                    matInput
                                    placeholder="Enter Your Phone Number"
                                    class="form-control" 
                                    [readonly]="onView"
                                />
                            </div>
                            <div  *ngIf="profileForm.get('phoneNumber')?.errors != null && profileForm.get('phoneNumber')?.touched">
                                <p class="text-danger" *ngIf="profileForm.get('phoneNumber')?.errors?.['required']"> *Phone number name is Required</p>
                                <p class="text-danger" *ngIf="profileForm.get('phoneNumber')?.errors?.['pattern']"> *Please, Enter a valid Phone number.</p>
                            </div>
                        </div>
                        
                        <div class="col-lg-12 col-md-12 col-sm-12" *ngIf="!onView">
                            <div class="input-group mb-0">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fa-solid fa-lock"></i>
                                </span>
                                <input
                                    formControlName="confirmPassword"
                                    matInput
                                    [type]="hideConfirm ? 'password' : 'text'"
                                    placeholder="Confirm New Password"
                                    class="form-control" 
                                />
                            </div>
                            <div  *ngIf="profileForm.get('confirmPassword')?.errors != null && profileForm.get('confirmPassword')?.touched">
                                <p class="text-danger " *ngIf="profileForm.get('confirmPassword')?.errors?.['required']" >*Password Confirmation is Required</p>
                                <p class="text-danger" *ngIf="profileForm.get('confirmPassword')?.getError('passwordMismatch') && profileForm.get('confirmPassword')?.touched">
                                    The password and confirm Password fields do not match.
                                </p>
                            </div>
                        </div>
                        
                    </div>
    
                    
                    <div class="col-lg-12 col-md-12  d-flex justify-content-between my-3">
                        <button type="button" (click)="toggleEdit()" class="main-btn">
                            <i class="fa-regular fa-pen-to-square"></i>
                            {{ onView ? "Enable" : "Disable" }} Edit
                        </button>
                        <button class="primary w-25 fs-5" *ngIf="!onView">Save</button>
                    </div>
                    
                </form>
                
            </div>
        </div>
</section>
  