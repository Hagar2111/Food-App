"use strict";(self.webpackChunkfood_app=self.webpackChunkfood_app||[]).push([[9],{9009:(z,u,r)=>{r.r(u),r.d(u,{CategoriesModule:()=>D});var g=r(6814),s=r(6223),h=r(3403),C=r(7921),_=r(7398),c=r(7700),e=r(5879);let f=(()=>{class o{constructor(t,i){this.dialogRef=t,this.data=i,this.userName="",this.addEditForm=new s.cw({name:new s.NI(null,[s.kI.required])})}onNoClick(){this.dialogRef.close()}ngOnInit(){this.userName=localStorage.getItem("userName")??""}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(c.so),e.Y36(c.WI))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit-category"]],decls:13,vars:6,consts:[[1,"d-flex","justify-content-center","align-items-center","bg-black","bg-opacity-25","vh-100"],[1,"category","bg-white","p-5","d-flex","flex-column","gap-5","rounded-3"],[1,"d-flex","justify-content-between","align-items-center"],["role","button",1,"fa-solid","fa-xmark-circle","fa-2x","text-danger",3,"click"],[1,"d-flex","flex-column","gap-5",3,"formGroup"],["type","text","formControlName","name","placeholder","Category Name",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"danger-outline","px-2","py-1",3,"click"],[1,"primary-outline","px-2","py-1",3,"mat-dialog-close","disabled"]],template:function(i,n){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3"),e._uU(4),e.qZA(),e.TgZ(5,"i",3),e.NdJ("click",function(){return n.onNoClick()}),e.qZA()(),e.TgZ(6,"form",4)(7,"input",5),e.NdJ("ngModelChange",function(d){return n.data.name=d}),e.qZA(),e.TgZ(8,"div",2)(9,"button",6),e.NdJ("click",function(){return n.onNoClick()}),e._uU(10,"Cancel"),e.qZA(),e.TgZ(11,"button",7),e._uU(12),e.qZA()()()()()),2&i&&(e.xp6(4),e.hij("",n.data.edit?"Edit":"Add"," Category"),e.xp6(2),e.Q6J("formGroup",n.addEditForm),e.xp6(1),e.Q6J("ngModel",n.data.name),e.xp6(4),e.Q6J("mat-dialog-close",n.addEditForm.value)("disabled",n.addEditForm.invalid),e.xp6(1),e.Oqu(n.data.edit?"Edit":"Add"))},dependencies:[c.ZT,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:["button[_ngcontent-%COMP%]{font-size:1rem}@media screen and (max-width: 768px){.category[_ngcontent-%COMP%]{width:90%;padding:20px}}@media screen and (min-width: 769px) and (max-width: 992px){.category[_ngcontent-%COMP%]{width:40%}}@media screen and (min-width: 1024px){.category[_ngcontent-%COMP%]{width:30%}}"]})}return o})(),x=(()=>{class o{constructor(t,i){this.dialogRef=t,this.data=i}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(c.so),e.Y36(c.WI))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-category"]],decls:26,vars:10,consts:[[1,"d-flex","justify-content-center","align-items-center","bg-black","bg-opacity-25","vh-100"],[1,"category","bg-white","p-5","d-flex","flex-column","gap-5","rounded-3"],[1,"d-flex","justify-content-between","align-items-center"],["role","button",1,"fa-solid","fa-xmark-circle","fa-2x","text-danger",3,"click"],[1,"text-muted"],["cdkFocusInitial","",1,"btn","btn-outline-danger","px-2",3,"mat-dialog-close"]],template:function(i,n){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3"),e._uU(4," Category Details"),e.qZA(),e.TgZ(5,"i",3),e.NdJ("click",function(){return n.onNoClick()}),e.qZA()(),e.TgZ(6,"div",2)(7,"h5"),e._uU(8,"Category Name : "),e.qZA(),e.TgZ(9,"span",4),e._uU(10),e.qZA()(),e.TgZ(11,"div",2)(12,"h5"),e._uU(13,"Creation Date: "),e.qZA(),e.TgZ(14,"span",4),e._uU(15),e.ALo(16,"date"),e.qZA()(),e.TgZ(17,"div",2)(18,"h5"),e._uU(19,"Modification Date: "),e.qZA(),e.TgZ(20,"span",4),e._uU(21),e.ALo(22,"date"),e.qZA()(),e.TgZ(23,"div",2)(24,"button",5),e._uU(25,"Close"),e.qZA()()()()),2&i&&(e.xp6(10),e.Oqu(n.data.name),e.xp6(5),e.Oqu(e.xi3(16,4,n.data.creationDate,"dd/MM/yyyy hh-mm a")),e.xp6(6),e.Oqu(e.xi3(22,7,n.data.modificationDate,"dd/MM/yyyy hh-mm a")),e.xp6(3),e.Q6J("mat-dialog-close",n.data))},dependencies:[c.ZT,g.uU],styles:["button[_ngcontent-%COMP%]{font-size:1rem}@media screen and (max-width: 768px){.category[_ngcontent-%COMP%]{width:90%;padding:20px}}@media screen and (min-width: 769px) and (max-width: 992px){.category[_ngcontent-%COMP%]{width:40%}}@media screen and (min-width: 1024px){.category[_ngcontent-%COMP%]{width:30%}}"]})}return o})();var y=r(5061),Z=r(3646),v=r(2425),m=r(6311),T=r(617),b=r(2296),A=r(2032),p=r(9157),w=r(3365);function M(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.resetSearch())}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function O(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td")(9,"button",30)(10,"mat-icon"),e._uU(11,"more_vert"),e.qZA()(),e.TgZ(12,"mat-menu",null,31)(14,"button",32),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.onOpenViewCategoryDialog(a.id))}),e.TgZ(15,"mat-icon"),e._uU(16,"visibility"),e.qZA(),e.TgZ(17,"span"),e._uU(18,"View"),e.qZA()(),e.TgZ(19,"button",32),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.openEditCategoryDialog(a.id))}),e.TgZ(20,"mat-icon"),e._uU(21,"edit_square"),e.qZA(),e.TgZ(22,"span"),e._uU(23,"Edit"),e.qZA()(),e.TgZ(24,"button",32),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.openDeleteCategoryDialog(a.id))}),e.TgZ(25,"mat-icon"),e._uU(26,"delete"),e.qZA(),e.TgZ(27,"span"),e._uU(28,"Delete"),e.qZA()()()()()}if(2&o){const t=l.$implicit,i=e.MAs(13);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.creationDate),e.xp6(2),e.Oqu(e.xi3(7,4,t.modificationDate,"dd/MM/yyyy hh-mm a")),e.xp6(3),e.Q6J("matMenuTriggerFor",i)}}function S(o,l){1&o&&(e.TgZ(0,"div",33)(1,"div"),e._UZ(2,"img",34),e.qZA(),e.TgZ(3,"h3",35),e._uU(4,"No Data!"),e.qZA(),e.TgZ(5,"p",36),e._uU(6,"Unfortunatily, no data found. "),e.qZA()())}const U=function(){return[]};function N(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",23)(1,"table",24)(2,"thead",25)(3,"th"),e._uU(4,"name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"creation date "),e.qZA(),e.TgZ(7,"th"),e._uU(8,"modification date"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"action"),e.qZA()(),e.TgZ(11,"tbody"),e.YNc(12,O,29,7,"tr",26),e.qZA()(),e.YNc(13,S,7,0,"div",27),e.TgZ(14,"div",5)(15,"mat-paginator",28,29),e.NdJ("page",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onPageChange(n))}),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(12),e.Q6J("ngForOf",t.categoryList.data),e.xp6(1),e.Q6J("ngIf",t.noDataFound),e.xp6(2),e.Q6J("length",t.categoryList.totalNumberOfRecords)("pageSize",t.first)("pageSizeOptions",t.showPageSizeOptions?t.pageSizeOptions:e.DdM(6,U))("pageIndex",t.rows)}}const q=[{path:"",component:(()=>{class o{constructor(t,i,n){this._CategoriesService=t,this._ToastrService=i,this.dialog=n,this.first=1,this.rows=10,this.showPageSizeOptions=!0,this.pageSizeOptions=[5,10,25],this.searchValue="",this.myControl=new s.NI,this.filteredCategories=[],this.categories=[],this.noDataFound=!1,this.headerText="Categories",this.headerTextContent="Item",this.textContent="You can now add your items that any user can order it from the Application and you can edit",this.categoryList={pageNumber:0,pageSize:0,data:[],totalNumberOfPages:0,totalNumberOfRecords:0}}ngOnInit(){this.onGetCategories(),this.filteredCategories=this.categories,this.myControl.valueChanges.pipe((0,C.O)(""),(0,_.U)(t=>this._filter(t))).subscribe(t=>{this.filteredCategories=t})}_filter(t){const i=t.toLowerCase();return this.categoryList.data.filter(n=>n.name.toLowerCase().includes(i))}resetSearch(){this.searchValue="",this.onGetCategories()}onGetCategories(){this._CategoriesService.getOrFilterCategories({name:this.searchValue,pageSize:this.rows,pageNumber:this.first/this.rows+1}).subscribe({next:i=>{this.categoryList=i,0==this.categoryList.totalNumberOfRecords?(this.noDataFound=!0,console.log("empty")):this.noDataFound=!1},error:i=>this._ToastrService.error(i.error.message,"Error"),complete:()=>this._ToastrService.success("The items were successfully retrieved.","Success")})}openAddCategoryDialog(){this.dialog.open(f,{width:"100%",height:"100%",maxHeight:"100%",maxWidth:"100%",data:{edit:!1}}).afterClosed().subscribe(i=>{i&&this.onCreateCategory(i)})}onCreateCategory(t){this._CategoriesService.createCategory(t).subscribe({next:()=>{},error:i=>this._ToastrService.error(i.error.message,"Error"),complete:()=>{this._ToastrService.success("Category Created Successfully","Success"),this.onGetCategories()}})}onDeleteCategory(t){this._CategoriesService.deleteCategory(t).subscribe({next:i=>{},error:i=>this._ToastrService.error(i.error.message,"Error"),complete:()=>{this._ToastrService.success("Item Deleted Successfully","Success"),this.onGetCategories()}})}openDeleteCategoryDialog(t){this._CategoriesService.getSingleCategory(t).subscribe({next:i=>{this.dialog.open(y.T,{width:"100%",height:"100%",maxHeight:"100%",maxWidth:"100%",data:{name:i.name}}).afterClosed().subscribe(a=>{a&&this.onDeleteCategory(t)})}})}openEditCategoryDialog(t){this._CategoriesService.getSingleCategory(t).subscribe({next:i=>{this.dialog.open(f,{width:"100%",height:"100%",maxHeight:"100%",maxWidth:"100%",data:{name:i.name,edit:!0}}).afterClosed().subscribe(a=>{a&&this.onUpdateCategory(t,a)})}})}onUpdateCategory(t,i){this._CategoriesService.updateCategory(t,i).subscribe({next:()=>{},error:n=>this._ToastrService.error(n.error.message,"Error"),complete:()=>{this._ToastrService.success("Category Updated Successfully","Success"),this.onGetCategories()}})}onPageChange(t){this.first=t.first,this.rows=t.rows,this.onGetCategories()}setPageSizeOptions(t){t&&(this.pageSizeOptions=t.split(",").map(i=>+i))}onOpenViewCategoryDialog(t){this._CategoriesService.getSingleCategory(t).subscribe({next:i=>{this.dialog.open(x,{height:"100%",width:"100%",maxWidth:"100%",maxHeight:"100%",data:i}).afterClosed().subscribe(a=>{console.log(a)})}})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(Z.G),e.Y36(v._W),e.Y36(c.uw))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-categories"]],decls:33,vars:3,consts:[[1,"top-section","py-2","px-4","mt-3"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"w-50"],[1,"col-md-4"],[1,"d-flex","justify-content-center"],["src","./../../../assets/imgs/home-avatar.svg","alt","",1,"w-100"],[1,"my-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"h3","m-0"],[1,"primary",3,"click"],[1,"text-muted","mt-0"],[1,"row"],[1,"col-md-12"],["appearance","outline",1,"example-form-field","w-100"],[1,"ms-5"],[1,"d-flex","align-items-center"],[1,"cursor-pointer","p-1","d-flex","justify-content-center",3,"click"],[1,"fa-solid","fa-magnifying-glass","me-2","fs-5"],["matInput","","type","text",3,"ngModel","ngModelChange","keyup.enter"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["class","mt-2",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"mt-2"],[1,"table","table-striped"],[1,"text-capitalize","mb-1"],[4,"ngFor","ngForOf"],["class","mt-4 text-center d-flex flex-column align-items-center",4,"ngIf"],["aria-label","Select page",1,"demo-paginator",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["paginator",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"mt-4","text-center","d-flex","flex-column","align-items-center"],["width","250px","src","./assets/img/delete-img.svg","alt","no data"],[1,"mt-3"],[1,"mt-2","text-muted"]],template:function(i,n){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1"),e._uU(5,"Categories "),e.TgZ(6,"span"),e._uU(7," Item"),e.qZA()(),e.TgZ(8,"p",3),e._uU(9,"You can now add your items that any user can order it from the Application and you can edit."),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",5),e._UZ(12,"img",6),e.qZA()()()(),e.TgZ(13,"section",7)(14,"div")(15,"div",8)(16,"h2",9),e._uU(17,"Categories Table Details"),e.qZA(),e.TgZ(18,"button",10),e.NdJ("click",function(){return n.openAddCategoryDialog()}),e._uU(19,"Add New Category"),e.qZA()(),e.TgZ(20,"p",11),e._uU(21,"You can check all details"),e.qZA()(),e.TgZ(22,"div",12)(23,"div",13)(24,"mat-form-field",14)(25,"mat-label",15),e._uU(26,"Search here ..."),e.qZA(),e.TgZ(27,"div",16)(28,"span",17),e.NdJ("click",function(){return n.onGetCategories()}),e._UZ(29,"i",18),e.qZA(),e.TgZ(30,"input",19),e.NdJ("ngModelChange",function(d){return n.searchValue=d})("keyup.enter",function(){return n.onGetCategories()}),e.qZA()(),e.YNc(31,M,3,0,"button",20),e.qZA()()(),e.YNc(32,N,17,7,"div",21),e.qZA()),2&i&&(e.xp6(30),e.Q6J("ngModel",n.searchValue),e.xp6(1),e.Q6J("ngIf",n.searchValue),e.xp6(1),e.Q6J("ngIf",!n.noDataFound))},dependencies:[g.sg,g.O5,m.VK,m.OP,m.p6,T.Hw,b.RK,A.Nt,p.KE,p.hX,p.R9,w.NW,s.Fj,s.JJ,s.On,g.uU],styles:[".top-section[_ngcontent-%COMP%]{background-image:url(header-bg.e7cd2c7a9e952177.svg);background-color:#009247;background-size:cover;background-repeat:no-repeat;background-position:center center;border-radius:10px;color:#fff}@media (max-width: 576px){.top-section[_ngcontent-%COMP%]{padding-top:2rem;padding-left:1rem;padding-right:1rem;font-size:1.2rem}}@media (min-width: 577px) and (max-width: 992px){.top-section[_ngcontent-%COMP%]{padding-top:var(--medium-screen-padding-top);padding-left:var(--medium-screen-padding-left-right);padding-right:var(--medium-screen-padding-left-right);font-size:var(--medium-screen-font-size)}}@media (min-width: 993px) and (max-width: 1200px){.top-section[_ngcontent-%COMP%]{padding-top:var(--large-screen-padding-top);padding-left:var(--large-screen-padding-left-right);padding-right:var(--large-screen-padding-left-right);font-size:var(--large-screen-font-size)}}@media (min-width: 1201px){.top-section[_ngcontent-%COMP%]{padding-top:var(--extra-large-screen-padding-to) p;padding-left:var(--extra-large-screen-padding-left) -right;padding-right:var(--extra-large-screen-padding-left) -right;font-size:var(--extra-large-screen-font) -size}}.imgBx[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}@media (min-width: 450px){.imgBx[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{transform:translateY(28px)}}section[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:5.5rem;line-height:5}"]})}return o})()}];let k=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(q),h.Bz]})}return o})();var J=r(555);let D=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[g.ez,k,J.m,s.u5]})}return o})()}}]);